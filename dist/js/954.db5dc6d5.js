"use strict";(self["webpackChunknow_playing"]=self["webpackChunknow_playing"]||[]).push([[954],{3954:function(e,n,o){o.d(n,{exchangeCodeForToken:function(){return r}});o(4979);const r=async(e,n)=>{try{const o="27aa67e34db74f19a9d8ff298b467189",r="03890a7c9f124f818fcd3cf2d8f68269";if(!o||!r)throw new Error("Missing Spotify client credentials");console.log("Using client ID:",o.substring(0,5)+"...");const t=btoa(`${o}:${r}`),c=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${t}`},body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:n})}),i=await c.json();if(!c.ok)throw new Error(i.error_description||i.error||"Unknown error");return{access_token:i.access_token,refresh_token:i.refresh_token,expires_in:i.expires_in}}catch(o){throw console.error("Token exchange failed:",o),o}}}}]);
//# sourceMappingURL=954.db5dc6d5.js.map