"use strict";(self["webpackChunknow_playing"]=self["webpackChunknow_playing"]||[]).push([[738],{1738:function(o,n,i){i.r(n),i.d(n,{default:function(){return f}});var t=i(6768),e=i(4232);const s={class:"login-container"},l={class:"login-card"},c={class:"troubleshoot-link"},a={key:0,class:"debug-info"};function r(o,n,i,r,d,u){return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",l,[n[4]||(n[4]=(0,t.Lk)("div",{class:"spotify-logo"},[(0,t.Lk)("div",{class:"spotify-icon"})],-1)),n[5]||(n[5]=(0,t.Lk)("h1",null,"Spotify Now Playing",-1)),n[6]||(n[6]=(0,t.Lk)("p",null,"Connect your Spotify account to see what you're currently listening to",-1)),(0,t.Lk)("button",{onClick:n[0]||(n[0]=(...o)=>u.login&&u.login(...o)),class:"login-button"}," Connect with Spotify "),(0,t.Lk)("div",c,[(0,t.Lk)("a",{onClick:n[1]||(n[1]=(...o)=>u.goToDiagnostics&&u.goToDiagnostics(...o)),href:"#"},"Having trouble connecting?")]),d.showDebug?((0,t.uX)(),(0,t.CE)("div",a,[n[3]||(n[3]=(0,t.Lk)("h3",null,"Debug Info",-1)),(0,t.Lk)("p",null,"Client ID: "+(0,e.v_)(u.clientIdDisplay),1),(0,t.Lk)("p",null,"Redirect URI: "+(0,e.v_)(d.redirectUri),1),(0,t.Lk)("button",{onClick:n[2]||(n[2]=(...o)=>u.testEnvVars&&u.testEnvVars(...o)),class:"debug-button"},"Test Environment Variables")])):(0,t.Q3)("",!0)])])}i(4114);var d={name:"LoginPage",data(){return{showDebug:!1,clientId:window.spotifyConfig?.clientId||"27aa67e34db74f19a9d8ff298b467189",redirectUri:window.spotifyConfig?.redirectUri||"http://localhost:8080/callback"}},computed:{clientIdDisplay(){return this.clientId?this.clientId.substring(0,4)+"..."+this.clientId.substring(this.clientId.length-4):"Not set"}},created(){this.clientId||(console.error("Client ID not found in environment variables"),this.showDebug=!0)},methods:{login(){const o=window.spotifyConfig?.clientId||"27aa67e34db74f19a9d8ff298b467189";if(!o)return alert("Spotify Client ID is missing. Please check your configuration."),void(this.showDebug=!0);const n=this.redirectUri,i=["user-read-currently-playing","user-read-playback-state","user-modify-playback-state"],t=new URL("https://accounts.spotify.com/authorize");t.searchParams.append("client_id",o),t.searchParams.append("response_type","code"),t.searchParams.append("redirect_uri",n),t.searchParams.append("scope",i.join(" ")),console.log("Redirecting to:",t.toString()),window.location.href=t.toString()},testEnvVars(){console.log("Configuration:"),console.log("window.spotifyConfig Client ID:",window.spotifyConfig?.clientId),console.log("window.spotifyConfig Redirect URI:",window.spotifyConfig?.redirectUri),console.log("VUE_APP_SPOTIFY_CLIENT_ID:","27aa67e34db74f19a9d8ff298b467189"),console.log("VUE_APP_REDIRECT_URI:","http://localhost:8080/callback"),console.log("Is Production:",!0),this.clientId?alert("Client ID found! Check console for details. Source: "+(window.spotifyConfig?.clientId?"config.js":"environment variables")):alert("Client ID not found! Check both .env file and public/config.js.")},goToDiagnostics(){this.$router.push("/diagnostics")}}},u=i(1241);const g=(0,u.A)(d,[["render",r],["__scopeId","data-v-516dff78"]]);var f=g}}]);
//# sourceMappingURL=738.cce35df5.js.map