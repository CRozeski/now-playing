{"version":3,"file":"js/469.08930d01.js","mappings":"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","sources":["webpack://now-playing/./src/components/NowPlaying.vue","webpack://now-playing/./src/components/MusicPlayer.vue","webpack://now-playing/./src/components/MusicPlayer.vue?9604","webpack://now-playing/./src/components/NowPlaying.vue?e630"],"sourcesContent":["// src/components/NowPlaying.vue\r\n<template>\r\n  <div class=\"now-playing-container\">\r\n    <div v-if=\"!currentTrack\" class=\"no-track\">\r\n      <p>No track currently playing</p>\r\n      <button @click=\"refreshTrack\" class=\"refresh-button\">Refresh</button>\r\n    </div>\r\n    \r\n    <div v-else class=\"track-card\">\r\n      <!-- Album Cover (Now Larger) -->\r\n      <div class=\"album-cover-container\">\r\n        <img :src=\"currentTrack.album.images[0].url\" alt=\"Album Cover\" class=\"album-cover\" />\r\n      </div>\r\n      \r\n      <!-- Track Info -->\r\n      <div class=\"track-info\">\r\n        <h2>{{ currentTrack.name }}</h2>\r\n        <p class=\"artist\">{{ artistNames }}</p>\r\n        <p class=\"album\">{{ currentTrack.album.name }}</p>\r\n      </div>\r\n      \r\n      <!-- Progress Bar \r\n      <div class=\"progress-container\">\r\n        <div class=\"progress-bar\">\r\n          <div class=\"progress\" :style=\"{ width: progressPercentage + '%' }\"></div>\r\n        </div>\r\n        <div class=\"time-info\">\r\n          <span>{{ formatTime(progressMs) }}</span>\r\n          <span>{{ formatTime(currentTrack.duration_ms) }}</span>\r\n        </div>\r\n      </div>\r\n    -->\r\n      <!-- Music Player Controls -->\r\n      <MusicPlayer />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MusicPlayer from './MusicPlayer.vue'\r\n\r\nexport default {\r\n  name: 'NowPlaying',\r\n  components: {\r\n    MusicPlayer\r\n  },\r\n  data() {\r\n    return {\r\n      progressMs: 0,\r\n      progressInterval: null,\r\n      pollingInterval: null,\r\n      pollingFrequency: 1000\r\n    }\r\n  },\r\n  computed: {\r\n    currentTrack() {\r\n      return this.$store.state.currentTrack\r\n    },\r\n    isPlaying() {\r\n      return this.$store.state.isPlaying\r\n    },\r\n    artistNames() {\r\n      if (!this.currentTrack) return ''\r\n      return this.currentTrack.artists.map(artist => artist.name).join(', ')\r\n    },\r\n    progressPercentage() {\r\n      if (!this.currentTrack) return 0\r\n      return (this.progressMs / this.currentTrack.duration_ms) * 100\r\n    }\r\n  },\r\n  methods: {\r\n    formatTime(ms) {\r\n      const seconds = Math.floor((ms / 1000) % 60)\r\n      const minutes = Math.floor((ms / (1000 * 60)) % 60)\r\n      \r\n      return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`\r\n    },\r\n    refreshTrack() {\r\n      this.$store.dispatch('fetchCurrentTrack')\r\n    },\r\n    startProgressTimer() {\r\n      if (this.progressInterval) {\r\n        clearInterval(this.progressInterval)\r\n      }\r\n      \r\n      this.progressInterval = setInterval(() => {\r\n        if (this.isPlaying && this.progressMs < this.currentTrack.duration_ms) {\r\n          this.progressMs += 1000\r\n        } else if (this.progressMs >= this.currentTrack.duration_ms) {\r\n          this.refreshTrack()\r\n        }\r\n      }, 1000)\r\n    }\r\n  },\r\n  created() {\r\n    this.refreshTrack()\r\n    \r\n    // Poll for track updates every .5 seconds\r\n    this.trackInterval = setInterval(() => {\r\n      this.refreshTrack()\r\n    }, 500)\r\n  },\r\n  watch: {\r\n    currentTrack(newTrack) {\r\n      if (newTrack) {\r\n        // Start progress timer\r\n        this.progressMs = this.$store.state.progressMs || 0;\r\n        this.startProgressTimer()\r\n      }\r\n    },\r\n    isPlaying(playing) {\r\n      if (playing) {\r\n        this.startProgressTimer()\r\n      } else if (this.progressInterval) {\r\n        clearInterval(this.progressInterval)\r\n      }\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    if (this.progressInterval) {\r\n      clearInterval(this.progressInterval)\r\n    }\r\n    \r\n    if (this.trackInterval) {\r\n      clearInterval(this.trackInterval)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.now-playing-container {\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n}\r\n\r\n.no-track {\r\n  text-align: center;\r\n  background-color: #24356f;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\r\n  margin-top: 2rem;\r\n  width: 90%;\r\n  max-width: 500px;\r\n}\r\n\r\n.refresh-button {\r\n  background-color: #1DB954;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 30px;\r\n  margin-top: 1rem;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.refresh-button:hover {\r\n  background-color: #1ed760;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.track-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.album-cover-container {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.album-cover {\r\n  width: 100%;\r\n  max-width: 600px;\r\n  height: auto;\r\n  border-radius: 12px;\r\n  box-shadow: 8px 8px 24px rgba(118, 118, 118, 0.5);\r\n  object-fit: cover;\r\n}\r\n\r\n.track-info {\r\n  padding: 1.5rem;\r\n  text-align: center;\r\n  margin-top: 1rem;\r\n}\r\n\r\nh2 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  color: white;\r\n  font-weight: 700;\r\n  letter-spacing: -0.02em;\r\n}\r\n\r\n.artist {\r\n  color: #bccad0;\r\n  margin: 0.5rem 0;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.album {\r\n  color: #9ba8ae;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: 400;\r\n}\r\n\r\n.progress-container {\r\n  margin: 1rem 2rem;\r\n}\r\n\r\n.progress-bar {\r\n  height: 6px;\r\n  background-color: #414141;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.progress {\r\n  height: 100%;\r\n  background-color: #ff0000;\r\n  transition: width 0.1s linear;\r\n}\r\n\r\n.time-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 0.8rem;\r\n  color: #b3b3b3;\r\n  margin-top: 0.5rem;\r\n  padding: 0 0.5rem;\r\n}\r\n</style>","// src/components/MusicPlayer.vue\r\n<template>\r\n  <div class=\"player-controls\">\r\n    <button @click=\"previous\" class=\"control-button\">\r\n      <i class=\"fas fa-step-backward\"></i>\r\n    </button>\r\n    \r\n    <button @click=\"togglePlayPause\" class=\"play-button\">\r\n      <i :class=\"isPlaying ? 'fas fa-pause' : 'fas fa-play'\"></i>\r\n    </button>\r\n    \r\n    <button @click=\"next\" class=\"control-button\">\r\n      <i class=\"fas fa-step-forward\"></i>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MusicPlayer',\r\n  computed: {\r\n    isPlaying() {\r\n      return this.$store.state.isPlaying\r\n    }\r\n  },\r\n  methods: {\r\n    async togglePlayPause() {\r\n      if (!this.$store.state.token) return\r\n      \r\n      try {\r\n        const endpoint = this.isPlaying \r\n          ? 'https://api.spotify.com/v1/me/player/pause'\r\n          : 'https://api.spotify.com/v1/me/player/play'\r\n        \r\n        const response = await fetch(endpoint, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${this.$store.state.token}`\r\n          }\r\n        })\r\n        \r\n        if (response.status === 204) {\r\n          this.$store.commit('setIsPlaying', !this.isPlaying)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error toggling playback:', error)\r\n      }\r\n    },\r\n    \r\n    async previous() {\r\n      if (!this.$store.state.token) return\r\n      \r\n      try {\r\n        await fetch('https://api.spotify.com/v1/me/player/previous', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${this.$store.state.token}`\r\n          }\r\n        })\r\n        \r\n        // Wait a moment for Spotify to update\r\n        setTimeout(() => {\r\n          this.$store.dispatch('fetchCurrentTrack')\r\n        }, 500)\r\n      } catch (error) {\r\n        console.error('Error skipping to previous track:', error)\r\n      }\r\n    },\r\n    \r\n    async next() {\r\n      if (!this.$store.state.token) return\r\n      \r\n      try {\r\n        await fetch('https://api.spotify.com/v1/me/player/next', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${this.$store.state.token}`\r\n          }\r\n        })\r\n        \r\n        // Wait a moment for Spotify to update\r\n        setTimeout(() => {\r\n          this.$store.dispatch('fetchCurrentTrack')\r\n        }, 500)\r\n      } catch (error) {\r\n        console.error('Error skipping to next track:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.player-controls {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 1.5rem;\r\n  margin: 1rem 0 2rem 0;\r\n}\r\n\r\n.control-button, .play-button {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.control-button {\r\n  color: #b3b3b3;\r\n  font-size: 1.8rem;\r\n  margin: 0 1.5rem;\r\n  width: 40px;\r\n  height: 40px;\r\n}\r\n\r\n.control-button:hover {\r\n  color: #62008c;\r\n  transform: scale(1.15);\r\n}\r\n\r\n.play-button {\r\n  font-size: 2.5rem;\r\n  color: #e3e8ea;\r\n  width: 60px;\r\n  height: 60px;\r\n  background-color: #282828;\r\n  border-radius: 50%;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.play-button:hover {\r\n  color: #62008c;\r\n  transform: scale(1.15);\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.play-button i {\r\n  margin-left: 3px; /* Adjust for play icon visual centering */\r\n}\r\n\r\n.play-button i.fa-pause {\r\n  margin-left: 0; /* Reset for pause icon */\r\n}\r\n</style>","import { render } from \"./MusicPlayer.vue?vue&type=template&id=d39f6326&scoped=true\"\nimport script from \"./MusicPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./MusicPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./MusicPlayer.vue?vue&type=style&index=0&id=d39f6326&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d39f6326\"]])\n\nexport default __exports__","import { render } from \"./NowPlaying.vue?vue&type=template&id=22611bad&scoped=true\"\nimport script from \"./NowPlaying.vue?vue&type=script&lang=js\"\nexport * from \"./NowPlaying.vue?vue&type=script&lang=js\"\n\nimport \"./NowPlaying.vue?vue&type=style&index=0&id=22611bad&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22611bad\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","$options","currentTrack","_hoisted_3","_createElementVNode","_hoisted_4","src","album","images","url","alt","_hoisted_5","_hoisted_6","_toDisplayString","name","_hoisted_7","artistNames","_hoisted_8","_createVNode","_component_MusicPlayer","_hoisted_2","onClick","_cache","args","refreshTrack","previous","togglePlayPause","_normalizeClass","isPlaying","next","computed","this","$store","state","methods","token","endpoint","response","fetch","method","headers","status","commit","error","console","setTimeout","dispatch","__exports__","components","MusicPlayer","data","progressMs","progressInterval","pollingInterval","pollingFrequency","artists","map","artist","join","progressPercentage","duration_ms","formatTime","ms","seconds","Math","floor","minutes","startProgressTimer","clearInterval","setInterval","created","trackInterval","watch","newTrack","playing","beforeUnmount","render"],"sourceRoot":""}